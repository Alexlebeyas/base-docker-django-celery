<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vagrant</title>
    <style>
        body {
            margin: auto;
            background-color: #eee;
            font-family: "Arial", Helvetica, sans-serif;
            max-width: 700px;
            font-size: 18px;
        }

        .code {
            background-color: #e5e5e5;
            padding: 10px;
            margin: 10px;
            font-style: italic;
        }

        .author {
            margin-top: 30px;
        }
    </style>
</head>
<body>

<h1>Vagrant</h1>
<p class="code"><a href="https://www.vagrantup.com/">https://www.vagrantup.com/</a></p>

<ul>
    <li><a href="#what-is">What is vagrant</a></li>
    <li><a href="#why-use">Why use it</a></li>
    <li><a href="#commands">Commands</a></li>
    <li><a href="#pycharm-vagrant">Pycharm vagrant interpreter</a></li>
    <li><a href="#recover-unlinked">Recover unlinked box</a></li>
</ul>

<h2 id="what-is">What is vagrant</h2>
<p>
    Vagrant is a virtual environment manager. We use <strong>virtualbox</strong> to create our virtual environments
    with vagrant boxes. These boxes are operating system images pre-configured to work with vagrant. Vagrant set
    virtualbox settings like synced folders, forwarded ports, RAM, head and headless and much more.
</p>

<h2 id="why-use">Why use it</h2>
<p>
    It's the best of both worlds. Use a nice Windows desktop and code in whatever OS you need. Mostly ubuntu 14.04.
    All of our production environments run on ubuntu 14.04, that is why we need to reproduce in development.
    Some development technologies like sqlite are not exactly the same as their production equivalent.
</p>

<h2 id="commands">Commands</h2>
<p><i>Note: Vagrant commands must be executed in the same directory as your Vagrantfile.</i></p>
<p>
    First things first, make of copy of Vagrantfile.template and name it Vagrantfile. In there you will find default
    settings for your vagrant box that we use in development. You are now ready to start vagrant.
</p>
<p class="code">&gt;&gt; vagrant up</p>
<p>
    The first time you start vagrant, it will make a copy of your new box from an operating system image. It will
    download it if it has to. Then it will apply your Vagrantfile settings to your VM (virtualbox). And finally,
    start your configured provisioner. Everytime you change your Vagrantfile configs you must reload your box.
</p>
<p class="code">&gt;&gt; vagrant reload</p>
<p>When you are done working, it is recommended to stop your box with the halt command.</p>
<p class="code">&gt;&gt; vagrant halt</p>

<h2 id="pycharm-vagrant">Pycharm vagrant interpreter</h2>
<p>
    In order to work with your vagrant box in pycharm, you must create a remote virtual environment. You can do so
    in <i>settings > Project > Project interpreter</i>. Click the gear icon, then "add remote" and select vagrant.
    If your box was provisioned with puppet, you python virtualenv should be created in /home/vagrant/venv/, input
    <i>/home/vagrant/venv/bin/python3.4</i> for your python interpreter path. Your run config should use "project
    default" as its interpreter.
</p>

<h2 id="recover-unlinked">Recover unlinked box</h2>
<p>
    Vagrant sometimes make mistakes. If your "vagrant up" creates a new box instead of using the same one as before,
    it's because vagrant lost track of your box. Type this command to find your box id.
</p>
<p class="code">&gt;&gt; "C:\Program Files\Oracle\VirtualBox\VBoxManage" list vms</p>
<p>
    This is obviously a windows command. You should adapt it to your system. Grab your VM id put in it:
</p>
<p class="code">&nbsp;&nbsp;&nbsp;(project_path)/.vagrant/machines/default/virtualbox/id</p>

<p class="author">Author: Simon Lessnick</p>
</body>
</html>